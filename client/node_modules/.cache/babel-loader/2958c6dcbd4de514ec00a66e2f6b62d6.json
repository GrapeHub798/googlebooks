{"ast":null,"code":"var _jsxFileName = \"D:\\\\Code\\\\googlebooks\\\\client\\\\src\\\\components\\\\book\\\\book.jsx\";\nimport React, { Component } from 'react';\nimport { Row, Col, ListGroup } from 'react-bootstrap';\nimport { connect } from \"react-redux\";\nimport { addFavorite, deleteFavorite, deleteFavoriteBook } from \"../../redux/actions\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { truncate } from \"../../helpers/misc.helpers\";\nimport './book.css';\nimport FavoriteApi from \"../../api/favorite.api\";\n\nconst mapStateToProps = state => {\n  return {\n    favorites: state.list\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addFavorite: favoriteId => new Promise((resolve, reject) => {\n      dispatch(addFavorite(favoriteId));\n      resolve();\n    }),\n    deleteFavorite: favoriteId => new Promise((resolve, reject) => {\n      dispatch(deleteFavorite(favoriteId));\n      resolve();\n    }),\n    deleteFavoriteBook: favoriteId => {\n      dispatch(deleteFavoriteBook(favoriteId));\n    }\n  };\n};\n\nclass AppBook extends Component {\n  constructor(props) {\n    super(props);\n    this.favoriteApi = new FavoriteApi();\n  }\n\n  addFavorite(e) {\n    if (!e) {\n      return;\n    }\n\n    this.props.addFavorite({\n      favorite: e\n    }).then(() => this.favoriteApi.saveFavorite(this.props.singleBook));\n  }\n\n  deleteFavorite(e) {\n    if (!e) {\n      return;\n    }\n\n    this.props.deleteFavorite({\n      favorite: e\n    }).then(() => this.favoriteApi.deleteFavorite(e));\n    this.props.deleteFavoriteBook({\n      id: e\n    });\n  }\n\n  render() {\n    const singleBook = this.props.singleBook;\n    const emptyHeart = /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      size: \"2x\",\n      icon: [\"far\", \"heart\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 22\n      }\n    });\n    const fullHeart = /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      size: \"2x\",\n      icon: [\"fas\", \"heart\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    });\n    const binoculars = /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      size: \"2x\",\n      icon: [\"fas\", \"binoculars\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 22\n      }\n    });\n    const isFavorite = this.props.favorites && this.props.favorites.includes(singleBook.id);\n    return /*#__PURE__*/React.createElement(ListGroup.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      rel: \"noopener noreferrer\",\n      target: \"_blank\",\n      href: singleBook.link,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: singleBook.image,\n      alt: singleBook.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 88\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      xs: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"book-label-title mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      rel: \"noopener noreferrer\",\n      target: \"_blank\",\n      href: singleBook.link,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 49\n      }\n    }, singleBook.title))), /*#__PURE__*/React.createElement(Col, {\n      className: \"position-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"position-absolute corner-view\",\n      title: \"View Book\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, singleBook.link ? /*#__PURE__*/React.createElement(\"a\", {\n      rel: \"noopener noreferrer\",\n      target: \"_blank\",\n      href: singleBook.link,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, binoculars) : ''), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"position-absolute corner-heart\",\n      title: \"Add/Remove from Favorites\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }, isFavorite ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"pointer\",\n      title: \"favorite\",\n      onClick: e => this.deleteFavorite(singleBook.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, fullHeart) : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"pointer\",\n      title: \"favorite\",\n      onClick: e => this.addFavorite(singleBook.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, emptyHeart)))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-weight-bold mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, \"By:\"), \" \", singleBook.authors ? singleBook.authors.join(\", \") : '')), /*#__PURE__*/React.createElement(Row, {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-weight-bold mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 34\n      }\n    }, \"Description:\"), truncate(singleBook.description, 1000, true))), /*#__PURE__*/React.createElement(Row, {\n      className: \"mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 34\n      }\n    }, \"Categories: \"), singleBook.categories ? singleBook.categories.join(\", \") : '')), /*#__PURE__*/React.createElement(Row, {\n      className: \"mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 34\n      }\n    }, \"Pages: \"), singleBook.pageCount), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 79\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 84\n      }\n    }, \"Average Rating: \"), singleBook.averageRating ? singleBook.averageRating : 'N/A')))));\n  }\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppBook);","map":{"version":3,"sources":["D:/Code/googlebooks/client/src/components/book/book.jsx"],"names":["React","Component","Row","Col","ListGroup","connect","addFavorite","deleteFavorite","deleteFavoriteBook","FontAwesomeIcon","truncate","FavoriteApi","mapStateToProps","state","favorites","list","mapDispatchToProps","dispatch","favoriteId","Promise","resolve","reject","AppBook","constructor","props","favoriteApi","e","favorite","then","saveFavorite","singleBook","id","render","emptyHeart","fullHeart","binoculars","isFavorite","includes","link","image","title","authors","join","description","categories","pageCount","averageRating"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Row, Col, ListGroup} from 'react-bootstrap'\r\nimport {connect} from \"react-redux\";\r\nimport {addFavorite, deleteFavorite, deleteFavoriteBook} from \"../../redux/actions\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { truncate } from \"../../helpers/misc.helpers\";\r\nimport './book.css';\r\nimport FavoriteApi from \"../../api/favorite.api\";\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tfavorites: state.list,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddFavorite: (favoriteId) => new Promise( (resolve, reject) => {\r\n\t\t\tdispatch(addFavorite(favoriteId));\r\n\t\t\tresolve();\r\n\t\t}),\r\n\t\tdeleteFavorite: (favoriteId) => new Promise((resolve, reject) => {\r\n\t\t\tdispatch(deleteFavorite(favoriteId))\r\n\t\t\tresolve();\r\n\t\t}),\r\n\t\tdeleteFavoriteBook: (favoriteId) => {\r\n\t\t\tdispatch(deleteFavoriteBook(favoriteId))\r\n\t\t},\r\n\t};\r\n};\r\n\r\nclass AppBook extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.favoriteApi = new FavoriteApi();\r\n\t}\r\n\r\n\taddFavorite(e) {\r\n\t\tif (!e) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.addFavorite({favorite: e}).then(() => this.favoriteApi.saveFavorite(this.props.singleBook));\r\n\t}\r\n\r\n\tdeleteFavorite(e) {\r\n\t\tif (!e) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.props.deleteFavorite({favorite: e}).then(() => this.favoriteApi.deleteFavorite(e));\r\n\t\tthis.props.deleteFavoriteBook({id: e});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst singleBook = this.props.singleBook;\r\n\t\tconst emptyHeart = <FontAwesomeIcon size=\"2x\" icon={[\"far\", \"heart\"]}/>\r\n\t\tconst fullHeart = <FontAwesomeIcon size=\"2x\" icon={[\"fas\", \"heart\"]}/>\r\n\t\tconst binoculars = <FontAwesomeIcon size=\"2x\" icon={[\"fas\", \"binoculars\"]}/>\r\n\t\tconst isFavorite = this.props.favorites && this.props.favorites.includes(singleBook.id);\r\n\t\treturn (\r\n\t\t\t<ListGroup.Item>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col xs={2}><a rel=\"noopener noreferrer\" target={\"_blank\"} href={singleBook.link}><img\r\n\t\t\t\t\t\tsrc={singleBook.image} alt={singleBook.title}/></a></Col>\r\n\t\t\t\t\t<Col xs={10}>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<span className=\"book-label-title mr-2\"><a rel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   target={\"_blank\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   href={singleBook.link}>{singleBook.title}</a></span>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col className=\"position-relative\">\r\n\t\t\t\t\t\t\t\t<span className=\"position-absolute corner-view\" title=\"View Book\">\r\n\t\t\t\t\t\t\t\t\t{singleBook.link\r\n\t\t\t\t\t\t\t\t\t\t? <a rel=\"noopener noreferrer\" target={\"_blank\"}\r\n\t\t\t\t\t\t\t\t\t\t\t href={singleBook.link}>{binoculars}</a>\r\n\t\t\t\t\t\t\t\t\t\t:''\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span className=\"position-absolute corner-heart\" title=\"Add/Remove from Favorites\">\r\n\t\t\t\t\t\t\t\t\t{isFavorite\r\n\t\t\t\t\t\t\t\t\t\t? <span className=\"pointer\" title=\"favorite\"\r\n\t\t\t\t\t\t\t\t\t\t\t   onClick={(e) => this.deleteFavorite(singleBook.id)}>{fullHeart}</span>\r\n\t\t\t\t\t\t\t\t\t\t: <span className=\"pointer\" title=\"favorite\"\r\n\t\t\t\t\t\t\t\t\t\t\t   onClick={(e) => this.addFavorite(singleBook.id)}>{emptyHeart}</span>}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row><Col><span\r\n\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-1\">By:</span> {singleBook.authors ? singleBook.authors.join(\", \"): ''}\r\n\t\t\t\t\t\t</Col></Row>\r\n\t\t\t\t\t\t<Row className=\"mt-3\"><Col><span\r\n\t\t\t\t\t\t\tclassName=\"font-weight-bold mr-1\">Description:</span>{truncate(singleBook.description, 1000, true)}\r\n\t\t\t\t\t\t</Col></Row>\r\n\t\t\t\t\t\t<Row className=\"mt-2\"><Col><span\r\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">Categories: </span>{singleBook.categories ? singleBook.categories.join(\", \") : ''}\r\n\t\t\t\t\t\t</Col></Row>\r\n\t\t\t\t\t\t<Row className=\"mt-2\"><Col><span\r\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">Pages: </span>{singleBook.pageCount}</Col><Col><span\r\n\t\t\t\t\t\t\tclassName=\"font-weight-bold\">Average Rating: </span>{singleBook.averageRating ? singleBook.averageRating : 'N/A'}\r\n\t\t\t\t\t\t</Col></Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</ListGroup.Item>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AppBook);\r\n"]},"metadata":{},"sourceType":"module"}